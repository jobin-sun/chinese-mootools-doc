<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<meta name="robots" content="all">
	<title>Mootools事件手册 - Event</title>
	<meta http-equiv="pragma" content="Pragma">
	<meta http-equiv="cache-control" content="public">
	<meta name="keywords" contect="Mootools事件,Mootools手册,Mootools框架,Javascript框架">
	<meta name="description" contect="Mootools事件使用手册">
	<link href="css/common.css" rel="stylesheet" type="text/css">
	<script src="js/mootools-core-1.4.5.js" type="text/javascript"></script>
</head>
<body>
<div id="content">
<div id="header">
	<div id="logo">
		<h1><a href="/"><span>MooTools</span></a></h1>
		<h2 id="logoTxt"><span>a compact javascript framework</span></h2>
	</div>
</div>
<div id="left">
	<h6 class="version" title="version:1.4.5">MooTools Core v1.4.5</h6>
	<div class="tree1">
		<div class="treeTitle">Core</div>
		<div class="treeItem"><a href="core.html">Core</a></div>
	</div>
	<div class="tree1">
		<div class="treeTitle">Types</div>
		<div class="treeItem"><a href="array.html">Array</a></div>
		<div class="treeItem"><a href="string.html">String</a></div>
		<div class="treeItem"><a href="number.html">Number</a></div>
		<div class="treeItem"><a href="function.html">Function</a></div>
		<div class="treeItem"><a href="object.html">Object</a></div>
		<div class="treeItem"><a href="event.html">Event</a></div>
	</div>
	<div class="tree1">
		<div class="treeTitle">Browser</div>
		<div class="treeItem"><a href="browser.html">Browser</a></div>
	</div>
	<div class="tree1">
		<div class="treeTitle">Class</div>
		<div class="treeItem"><a href="class.html">Class</a></div>
		<div class="treeItem"><a href="class_extras.html">Class.Extras</a></div>
	</div>
	<div class="tree1">
		<div class="treeTitle">Slick</div>
		<div class="treeItem"><a href="slick.html">Slick</a></div>
	</div>
	<div class="tree1">
		<div class="treeTitle">Element</div>
		<div class="treeItem"><a href="element.html">Element</a></div>
		<div class="treeItem"><a href="element_style.html">Element.Style</a></div>
		<div class="treeItem"><a href="element_event.html">Element.Event</a></div>
		<div class="treeItem"><a href="element_delegation.html">Element.Delegation</a></div>
		<div class="treeItem"><a href="element_dimensions.html">Element.Dimensions</a></div>
	</div>
	<div class="tree1">
		<div class="treeTitle">Fx</div>
		<div class="treeItem"><a href="fx.html">Fx</a></div>
		<div class="treeItem"><a href="fx_css.html">Fx.CSS</a></div>
		<div class="treeItem"><a href="fx_tween.html">Fx.Tween</a></div>
		<div class="treeItem"><a href="fx_morph.html">Fx.Morph</a></div>
		<div class="treeItem"><a href="fx_transitions.html">Fx.Transitions</a></div>
	</div>
	<div class="tree1">
		<div class="treeTitle">Request</div>
		<div class="treeItem"><a href="request.html">Request</a></div>
		<div class="treeItem"><a href="request_Html.html">Request.HTML</a></div>
		<div class="treeItem"><a href="request_Json.html">Request.JSON</a></div>
	</div>
	<div class="tree1">
		<div class="treeTitle">Utilities</div>
		<div class="treeItem"><a href="cookie.html">Cookie</a></div>
		<div class="treeItem"><a href="json.html">JSON</a></div>
		<div class="treeItem"><a href="domready.html">DOMReady</a></div>
		<div class="treeItem"><a href="swiff.html">Swiff</a></div>
		<div class="treeItem"><a href="faq.html">FAQ</a></div>
	</div>
</div>
<div id="right">
<h1 class="t1">Type: DOMEvent</h1>
MooTools的DOMEvent方法。
<h2 class="title">DOMEvent Method: constructor</h2>

<h3 class="subTitle">语法:</h3>
<div class="javascript">new DOMEvent([event[, win]]);</div>

<h3 class="subTitle">参数:</h3>
<ol>
	<li>event - (event, required)HTMLEvent对象。</li>
	<li>win - (window, optional: defaults to window)事件的上下文。</li>
</ol>
<h4>属性:</h4>
<ul>
	<li>page.x - (number)的鼠标的x位置，相对于全窗口。</li>
	<li>page.y - (number)鼠标的y位置，相对于整个窗口。</li>
	<li>client.x - (number)鼠标的x位置，相对于可视区域。</li>
	<li>client.y - (number)鼠标的y位置，相对于可视区域。</li>
	<li>rightClick - (boolean) True如果用户点击了鼠标右键.</li>
	<li>wheel - (number)鼠标中轮滚动。</li>
	<li>relatedTarget - (element)触发本事件的元素。</li>
	<li>target - (element)事件绑定的元素。</li>
	<li>code - (number)被按下的键的键码。</li>
	<li>key - (string)被按下的键的名字。键可以是'enter', 'up', 'down', 'left', 'right', 'space', 'backspace', 'delete', 'esc' 。</li>
	<li>shift - (boolean) True如果用户按下shift键。</li>
	<li>control - (boolean) True如果用户按下控制键。</li>
	<li>alt - (boolean) True如果用户按下alt键。</li>
	<li>meta - (boolean) True如果用户按下了Meta键。</li>
</ul>
<h3 class="subTitle">示例:</h3>
<div class="javascript">$('myLink').addEvent('keydown', function(event){
    // the passed event parameter is already an instance of the Event type.
    alert(event.key);   // returns the lowercase letter pressed.
    alert(event.shift); // returns true if the key pressed is shift.
    if (event.key == 's' && event.control) alert('Document saved.'); //executes if the user presses Ctr+S.
});</div>

<h2 class="title">DOMEvent Method: stop</h2>

停止事件的传播，执行preventDefault 。

<h3 class="subTitle">语法:</h3>
<div class="javascript">myEvent.stop();</div>
<h3 class="subTitle">返回:</h3>
<ul>
	<li>(object)原DOMEvent实例。</li>
</ul>
<h3 class="subTitle">示例:</h3>
<h5>HTML :</h5>
<div class="javascript">&lt;a id="myAnchor" href="http://google.com/"&gt;Visit Google.com&lt;/a&gt;</div>
<h5>JavaScript</h5>
<div class="javascript">$('myAnchor').addEvent('click', function(event){
    event.stop(); //Prevents the browser from following the link.
    this.set('text', 'Where do you think you\'re going?'); //'this' is Element that fires the Event.
    (function(){
        this.set('text', 'Instead visit the Blog.').set('href', 'http://blog.mootools.net');
    }).delay(500, this);
});</div>
<h3 class="subTitle">注意事项:</h3>
<ul>
	<li>返回false也可以阻止事件的传播。</li>
</ul>
<h2 class="title">DOMEvent Method: stopPropagation</h2>

跨浏览器的方法来阻止事件的传播(这将停止事件向上冒泡) 。

<h3 class="subTitle">语法:</h3>
<div class="javascript">myEvent.stopPropagation();</div>
<h3 class="subTitle">返回:</h3>
<ul>
	<li>(object)原DOMEvent对象。</li>
</ul>
<h3 class="subTitle">示例:</h3>
"＃myChild"与"myElement"覆盖不相同的面积。因此'click'父/子元素依赖点击的位置:
<h5>HTML:</h5>
<div class="javascript">&lt;div id="myElement"&gt;
    &lt;div id="myChild"&gt;&lt;/div&gt;
&lt;/div&gt;</div>
<h5>JavaScript:</h5>
<div class="javascript">$('myElement').addEvent('click', function(){
    alert('click');
    return false; //equivalent to stopPropagation.
});
$('myChild').addEvent('click', function(event){
    event.stopPropagation(); //prevents the event from bubbling up, and fires the parent's click event.
});</div>

<h2 class="title">DOMEvent Method: preventDefault</h2>
跨浏览器阻止浏览器的默认行为.
<h3 class="subTitle">语法:</h3>
<div class="javascript">myEvent.preventDefault();</div>
<h3 class="subTitle">返回:</h3>
<ul>
	<li>(object)原DOMEvent对象。</li>
</ul>
<h3 class="subTitle">示例:</h3>
<h5><HTML:/h5>
<div class="javascript">&lt;form&gt;
    &lt;input id="myCheckbox" type="checkbox" /&gt;
&lt;/form&gt;</div>
<h5>JavaScript</h5>
<div class="javascript">$('myCheckbox').addEvent('click', function(event){
    event.preventDefault(); //prevents the checkbox from being "checked".
});</div>

<h2 class="title">Function: DOMEvent.defineKey</h2>

此函数允许添加额外的事件识别码。

<h3 class="subTitle">例如:</h3>
<div class="javascript">DOMEvent.defineKey(16, 'shift');
$('myInput').addEvent('keydown', function(event){
    if (event.key == 'shift') alert('You pressed shift.');
});</div>
<h3 class="subTitle">预定义项:</h3>
<ul>
	<li>enter</li>
	<li>up</li>
	<li>down</li>
	<li>left</li>
	<li>right</li>
	<li>esc</li>
	<li>space</li>
	<li>backspace</li>
	<li>tab</li>
	<li>delete</li>
</ul>
<h2 class="title">Function: DOMEvent.defineKeys</h2>

此函数允许添加多个额外的事件识别码。

<h3 class="subTitle">例如:</h3>
<div class="javascript">DOMEvent.defineKeys({
    '16': 'shift',
    '17': 'control'
});
$('myInput').addEvent('keydown', function(event){
    if (event.key == 'control') alert('You pressed control.');
});</div>
</div>
<div class="clear docLicenses">
此文档遵循<a target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/3.0/">Attribution-NonCommercial-ShareAlike 3.0</a>协议
</div>
<div class="copy">
<p>copyright &copy2006-2014 <a target="_blank" href="http://mad4milk.net">Valerio Proietti</a> , translate by <a href="http://jobin.chinamootools.com" target="_blank" rel=”nofollow”>Jobin Sun</a></p>
</div>
<iframe src="iframe.html" id="notify" rel=“nofollow”></iframe>
</div>
<div style="display:none;"><script type="text/javascript">
var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3F8cda00c775f700b8984f30b8c7004fd1' type='text/javascript'%3E%3C/script%3E"));
</script></div>
</body>
</html>