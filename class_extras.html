<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<title>Mootools - Class/Extras</title>
	<link href="css/common.css" rel="stylesheet" type="text/css">
	<script src="js/mootools-core-1.4.5.js" type="text/javascript"></script>
</head>
<body>
<div id="content">
<div id="header">
	<div id="logo">
		<h1><a href="/"><span>MooTools</span></a></h1>
		<h2 id="logoTxt"><span>a compact javascript framework</span></h2>
	</div>
</div>
<div id="left">
	<h6 class="version" title="version:1.4.5">MooTools Core v1.4.5</h6>
	<div class="tree1">
		<div class="treeTitle">Core</div>
		<div class="treeItem"><a href="core.html">Core</a></div>
	</div>
	<div class="tree1">
		<div class="treeTitle">Types</div>
		<div class="treeItem"><a href="array.html">Array</a></div>
		<div class="treeItem"><a href="string.html">String</a></div>
		<div class="treeItem"><a href="number.html">Number</a></div>
		<div class="treeItem"><a href="function.html">Function</a></div>
		<div class="treeItem"><a href="object.html">Object</a></div>
		<div class="treeItem"><a href="event.html">Event</a></div>
	</div>
	<div class="tree1">
		<div class="treeTitle">Browser</div>
		<div class="treeItem"><a href="browser.html">Browser</a></div>
	</div>
	<div class="tree1">
		<div class="treeTitle">Class</div>
		<div class="treeItem"><a href="class.html">Class</a></div>
		<div class="treeItem"><a href="class_extras.html">Class.Extras</a></div>
	</div>
	<div class="tree1">
		<div class="treeTitle">Slick</div>
		<div class="treeItem"><a href="slick.html">Slick</a></div>
	</div>
	<div class="tree1">
		<div class="treeTitle">Element</div>
		<div class="treeItem"><a href="element.html">Element</a></div>
		<div class="treeItem"><a href="element_style.html">Element.Style</a></div>
		<div class="treeItem"><a href="element_event.html">Element.Event</a></div>
		<div class="treeItem"><a href="element_delegation.html">Element.Delegation</a></div>
		<div class="treeItem"><a href="element_dimensions.html">Element.Dimensions</a></div>
	</div>
	<div class="tree1">
		<div class="treeTitle">Fx</div>
		<div class="treeItem"><a href="fx.html">Fx</a></div>
		<div class="treeItem"><a href="fx_css.html">Fx.CSS</a></div>
		<div class="treeItem"><a href="fx_tween.html">Fx.Tween</a></div>
		<div class="treeItem"><a href="fx_morph.html">Fx.Morph</a></div>
		<div class="treeItem"><a href="fx_transitions.html">Fx.Transitions</a></div>
	</div>
	<div class="tree1">
		<div class="treeTitle">Request</div>
		<div class="treeItem"><a href="request.html">Request</a></div>
		<div class="treeItem"><a href="request_Html.html">Request.HTML</a></div>
		<div class="treeItem"><a href="request_Json.html">Request.JSON</a></div>
	</div>
	<div class="tree1">
		<div class="treeTitle">Utilities</div>
		<div class="treeItem"><a href="cookie.html">Cookie</a></div>
		<div class="treeItem"><a href="json.html">JSON</a></div>
		<div class="treeItem"><a href="domready.html">DOMReady</a></div>
		<div class="treeItem"><a href="swiff.html">Swiff</a></div>
	</div>
</div>
<div id="right">
<h1 class="t1">Class: Chain</h1>
一个工具类,能链式执行函数,及一个函数完成后触发另一个函数,它的方法能被另一个类通过Class:implement继承,当前它被Fx和Request继承.例如在Fx类里,它能用来创建复杂的自定义动画.

<h2 class="title">Chain Method: constructor</h2>

<h3 class="subTitle">语法:</h3>
<h4>新类</h4>
<div class="javascript">var MyClass = new Class({ Implements: Chain });</div>
<h4>已存在的类</h4>
<div class="javascript">MyClass.implement(Chain);</div>
<h4>独立类</h4>
<div class="javascript">var myChain = new Chain;</div>

<h3 class="subTitle">例如:</h3>
<div class="javascript">    var Todo = new Class({
        Implements: Chain,
        initialize: function(){
            this.chain.apply(this, arguments);
        }
    });
 
    var myTodoList = new Todo(
        function(){ alert('get groceries'); },
        function(){ alert('go workout'); },
        function(){ alert('code mootools documentation until eyes close involuntarily'); },
        function(){ alert('sleep'); }
    );</div>
<h2>Chain Method: chain</h2>
向Chain结尾追加函数。

<h3 class="subTitle">语法:</h3>
<div class="javascript">myClass.chain(fn[, fn2[, fn3[, ...]]]);</div>

<h3 class="subTitle">参数:</h3>
<ol>
	<lli>fn - (function or array)函数(或函数数组)追加到调用链接尾。</li>
</ol>
<h3 class="subTitle">返回:</h3>
<ul>
	<li>(object)当前类的实例。</li>
</ul>
<h3 class="subTitle">例如:</h3>
<div class="javascript">//Fx.Tween has already implemented the Chain class because of inheritance of the Fx class.
var myFx = new Fx.Tween('myElement', {property: 'opacity'});
myFx.start(1,0).chain(
    //Notice that "this" refers to the calling object (in this case, the myFx object).
    function(){ this.start(0,1); },
    function(){ this.start(1,0); },
    function(){ this.start(0,1); }
); //Will fade the Element out and in twice.</div>
<h2 class="title">Chain Method: callChain</h2>
移除第一个,并执行它,第二个将变成第一个.

<h3 class="subTitle">语法:</h3>
<div class="javascript">myClass.callChain([any arguments]);</div>

<h3 class="subTitle">参数:</h3>
<ol>
	<li>传递参数到当前要执行的函数。</li>
</ol>
<h3 class="subTitle">返回:</h3>
<ul>
	<li>(mixed)返回当前执行函数的返回值,如果链条为空,没有执行函数则反回false。</li>
</ul>
<h3 class="subTitle">例如:</h3>
<div class="javascript">var myChain = new Chain();
myChain.chain(
    function(){ alert('do dishes'); },
    function(){ alert('put away clean dishes'); }
);
myChain.callChain(); // alerts 'do dishes'.
myChain.callChain(); // alerts 'put away clean dishes'</div>
<h2 class="title">Chain Method: clearChain</h2>
清空一个Chain.

<h3 class="subTitle">语法:</h3>
<div class="javascript">myClass.clearChain();</div>

<h3 class="subTitle">返回:</h3>
<ul>
	<li>(object)当前实例。</li>
</ul>
<h3 class="subTitle">例如:</h3>
<div class="javascript">var myFx = Fx.Tween('myElement', 'color'); // Fx.Tween inherited Fx's implementation of Chain.
myFx.chain(function(){ while(true) alert("D'oh!"); }); // chains an infinite loop of alerts.
myFx.clearChain(); // cancels the infinite loop of alerts before allowing it to begin.</div>

<h1 class="t1">Class: Events</h1>
一个工具类,这个类能被其它类通过Class:implement继承,例如,在Fx类里,'complete','start','cancel'事件,
继承Events的类必须增加一个选项或一个addEvent函数,而不是直接通过.options.onEventName增加.

<h3 class="subTitle">语法:</h3>
<h4>对于一个新类</h4>
<div class="javascript">var MyClass = new Class({ Implements: Events });</div>
<h4>对开已存在的类</h4>
<div class="javascript">MyClass.implement(Events);</div>
<h3 class="subTitle">Implementing</h3>
<ul>
	<li>这个类能被继承到其它类。</li>
	<li>Events被设计与Option类一块工作,当option属性以'on'开始然后一个大写字母,将被作为事件添加.(如'onComplete'将作为'complete'事件)</li>
</ul>
<h3 class="subTitle">例如:</h3>
<div class="javascript">var Widget = new Class({
    Implements: Events,
    initialize: function(element){
        // ...
    },
    complete: function(){
        this.fireEvent('complete');
    }
});
 
var myWidget = new Widget();
myWidget.addEvent('complete', myFunction);</div>
<h3 class="subTitle">注意事项:</h3>
<ul>
	<li>以'on'开始的事件支持所有的方法,并且将转化成没有'on'的(例如'onComplete'转化成'complete') 。</li>
</ul>
<h2 class="t1">Events Method: addEvent</h2>

添加一个事件。

<h3 class="subTitle">语法:</h3>
<div class="javascript">myClass.addEvent(type, fn[, internal]);</div>

<h3 class="subTitle">参数:</h3>
<ol>
	<li>type - (string)事件的类型(例如'complete') 。</li>
	<li>fn - (function)事件函数。</li>
	<li>internal - (boolean, optional)设置函数属性:internal为true。internal属性通常用来防止删除。</li>
</ol>
<h3 class="subTitle">返回:</h3>
<ul>
	<li>(object)这个类的实例。</li>
</ul>
<h3 class="subTitle">例如:</h3>
<div class="javascript">var myFx = new Fx.Tween('element', 'opacity');
myFx.addEvent('start', myStartFunction);</div>
<h2 class="title">Events Method: addEvents</h2>

和addEvent相似，但接受一个对象可以一次添加多个事件。

<h3 class="subTitle">语法:</h3>
<div class="javascript">myClass.addEvents(events);</div>

<h3 class="subTitle">参数:</h3>
<ol>
	<li>events - (object)一个key:value对象,key事件名称(如"start" ) ，和值，当事件发生时要调用的函数。</li>
</ol>
<h3 class="subTitle">返回:</h3>
<ul>
	<li>(object)这个类的实例。</li>
</ul>
<h3 class="subTitle">例如:</h3>
<div class="javascript">var myFx = new Fx.Tween('element', 'opacity');
myFx.addEvents({
    start: myStartFunction,
    complete: function() {
        alert('Done.');
    }
});</div>
<h2 class="title">Events Method: fireEvent</h2>
触发事件.

<h3 class="subTitle">语法:</h3>
<div class="javascript">myClass.fireEvent(type[, args[, delay]]);</div>

<h3 class="subTitle">参数:</h3>
<ol>
	<li>type - (string)事件的类型(例如'complete') 。</li>
	<li>args - (mixed，optional)传递给函数的参数。要传递多个参数，该参数必须是一个数组。</li>
	<li>delay - ( number，optional)等待时间,单位毫秒。</li>
</ol>
<h3 class="subTitle">返回:</h3>
<ul>
	<li>(object)这个类的实例。</li>
</ul>
<h3 class="subTitle">例如:</h3>
<div class="javascript">var Widget = new Class({
    Implements: Events,
    initialize: function(arg1, arg2){
        //...
        this.fireEvent('initialize', [arg1, arg2], 50);
    }
});</div>
<h2 class="title">Events Method: removeEvent</h2>

删除一个事件。

<h3 class="subTitle">语法:</h3>
<div class="javascript">myClass.removeEvent(type, fn);</div>

<h3 class="subTitle">参数:</h3>
<ul>
	<li>type - (string)事件的类型(例如'complete') 。</li>
	<li>fn - (function)要删除的函数。</li>
</ul>
<h3 class="subTitle">返回:</h3>
<ul>
	<li>(object)这个类的实例。</li>
</ul>
<h3 class="subTitle">注意事项:</h3>
如果函数具有internal属性，并设置为true，则该事件将不会被删除。
<h2 class="title">Events Method: removeEvents</h2>
删除多个事件,如果没有指定,则删除所有的.

<h3 class="subTitle">语法:</h3>
<div class="javascript">myClass.removeEvents([events]);</div>

<h3 class="subTitle">参数:</h3>
<ol>
	<li>events - (optional)如果没有指定则删除所有事件。
		<ul>
			<li>(string)事件名(例如'success')</li>
			<li>(object)一个key:function对像,同addEvents中的参数那样.</li>
		</ul>
	</li>
</ol>
<h3 class="subTitle">返回:</h3>
<ul>
	<li>(object)当前类的实例。</li>
</ul>
<h3 class="subTitle">例如:</h3>
<div class="javascript">var myFx = new Fx.Tween('myElement', 'opacity');
myFx.removeEvents('complete');</div>
<h1 class="t1">Class: Options</h1>
一个工具类,能被另一个类通过Class:implement继承.通常自动设置一个类的option,也增加一个事件当属性以'on'+大写字母(例如'onComplete'增加一个'complete'事件).你需要用this.setOptions()设置option.
<h3 class="subTitle">语法:</h3>
<h4>对于新类</h4>
<div class="javascript">var MyClass = new Class({Implements: Options});</div>
<h4>对于已存在的类:</h4>
<div class="javascript">MyClass.implement(Options);</div>
<h2 class="title">Options Method: setOptions</h2>
合并默认选项.每个传入的值将被深度拷贝.如果不想深度拷贝请使用其它方法.

<h3 class="subTitle">语法:</h3>
<div class="javascript">myClass.setOptions([options]);</div>

<h3 class="subTitle">参数:</h3>
<ol>
	<li>options - (object, optional)用户定义的选项与默认值合并。</li>
</ol>
<h3 class="subTitle">返回:</h3>
<ul>
	<li>(object)当前类的实例。</li>
</ul>
<h3 class="subTitle">例如:</h3>
<div class="javascript">var Widget = new Class({
    Implements: Options,
    options: {
        color: '#fff',
        size: {
            width: 100,
            height: 100
        }
    },
    initialize: function(options){
        this.setOptions(options);
    }
});
 
var myWidget = new Widget({
    color: '#f00',
    size: {
        width: 200
    }
});
 
//myWidget.options is now: {color: #f00, size: {width: 200, height: 100}}
 
// Deep copy example
var mySize = {
    width: 50,
    height: 50
};
 
var myWidget = new Widget({
    size: mySize
});
 
(mySize == myWidget.options.size) // false! mySize was copied in the setOptions call.</div>

<h2 class="title">Options in combination with Events</h2>
如果一个类继承了Events和Option,每个'on'+大写字母(如'onStart')将是一个事件,假设选项值为function.

<h3 class="subTitle">例如:</h3>
<div class="javascript">var Widget = new Class({
    Implements: [Options, Events],
    options: {
        color: '#fff',
        size: {
            width: 100,
            height: 100
        }
    },
    initialize: function(options){
        this.setOptions(options);
    },
    show: function(){
        // Do some cool stuff
 
        this.fireEvent('show');
    }
 
});
 
var myWidget = new Widget({
    color: '#f00',
    size: {
        width: 200
    },
    onShow: function(){
        alert('Lets show it!');
    }
});
 
myWidget.show(); // fires the event and alerts 'Lets show it!'</div>
</div>
<div class="clear docLicenses">
此文档遵循<a target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/3.0/">Attribution-NonCommercial-ShareAlike 3.0</a>协议
</div>
<div class="copy">
<p>copyright &copy2006-2014 <a target="_blank" href="http://mad4milk.net">Valerio Proietti</a> , translate by <a href="/">Jobin Sun</a></p>
</div>
<iframe src="iframe.html" id="notify"></iframe>
</div>
</body>
</html>